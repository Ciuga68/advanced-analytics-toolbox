"use strict";define(["../util/utils","../../vendor/tree"],function(t,n){return{draw:function(t,n,e,r){function i(t){t.children&&(t._children=t.children,t._children.forEach(i),t.children=null)}function a(t){function n(t,n){return path="M "+t.y+" "+t.x+"\n                  C "+(t.y+n.y)/2+" "+t.x+",\n                    "+(t.y+n.y)/2+" "+n.x+",\n                    "+n.y+" "+n.x,path}function e(t){t.children?(t._children=t.children,t.children=null):(t.children=t._children,t._children=null),a(t)}var r=y(l),i=r.descendants(),c=r.descendants().slice(1);i.forEach(function(t){t.y=180*t.depth});var o=f.selectAll("g.node").data(i,function(t){return t.id||(t.id=++h)}),d=o.enter().append("g").attr("class","node").attr("transform",function(n){return"translate("+t.y0+","+t.x0+")"}).on("click",e);d.append("circle").attr("class","node").attr("r",1e-6).style("fill",function(t){return t._children?"lightsteelblue":"#fff"}),d.append("text").attr("dy",".35em").attr("x",function(t){return t.children||t._children?-13:13}).attr("text-anchor",function(t){return t.children||t._children?"end":"start"}).text(function(t){return t.data.name});var u=d.merge(o);u.transition().duration(s).attr("transform",function(t){return"translate("+t.y+","+t.x+")"}),u.select("circle.node").attr("r",10).style("fill",function(t){return t._children?"lightsteelblue":"#fff"}).attr("cursor","pointer");var p=o.exit().transition().duration(s).attr("transform",function(n){return"translate("+t.y+","+t.x+")"}).remove();p.select("circle").attr("r",1e-6),p.select("text").style("fill-opacity",1e-6);var x=f.selectAll("path.link").data(c,function(t){return t.id}),m=x.enter().insert("path","g").attr("class","link").attr("d",function(e){var r={x:t.x0,y:t.y0};return n(r,r)}),v=m.merge(x);v.transition().duration(s).attr("d",function(t){return n(t,t.parent)});x.exit().transition().duration(s).attr("d",function(e){var r={x:t.x,y:t.y};return n(r,r)}).remove();i.forEach(function(t){t.x0=t.x,t.y0=t.y})}var l,c={name:"Top Level",children:[{name:"Level 2: A",children:[{name:"Son of A"},{name:"Daughter of A"}]},{name:"Level 2: B"}]},o={top:20,right:90,bottom:30,left:90},d=960-o.left-o.right,u=500-o.top-o.bottom,f=d3.select("body").append("svg").attr("width",d+o.right+o.left).attr("height",u+o.top+o.bottom).append("g").attr("transform","translate("+o.left+","+o.top+")"),h=0,s=750,y=d3.tree().size([u,d]);l=d3.hierarchy(c,function(t){return t.children}),l.x0=u/2,l.y0=0,l.children.forEach(i),a(l)}}});
//# sourceMappingURL=../../maps/chart/tree.js.map
