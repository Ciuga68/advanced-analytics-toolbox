"use strict";define(["../util/utils","ng!$q"],function(e,t){return{createCube:function(t,a){var r=a.layout,n=e.validateDimension(r.props.dimensions[0]),s=[{qDef:{qFieldDefs:[n]}}],i=e.validateMeasure(r.props.measures[0]),d=e.validateMeasure(r.props.measures[1]),l=[{qDef:{qLabel:"Results",qDef:"R.ScriptEvalExStr('NN','library(jsonlite); res<-var.test(na.omit(q$SampleA),na.omit(q$SampleB), conf.level="+r.props.confidenceLevel+");json<-toJSON(list(res$statistic,res$parameter[1],res$parameter[2],res$p.value,res$conf.int[1],res$conf.int[2],res$estimate));', "+i+" as SampleA, "+d+" as SampleB)"}},{qDef:{qLabel:"-",qDef:""}},{qDef:{qLabel:"-",qDef:""}},{qDef:{qLabel:"-",qDef:""}},{qDef:{qLabel:"-",qDef:""}}];return a.backendApi.applyPatches([{qPath:"/qHyperCubeDef/qDimensions",qOp:"replace",qValue:JSON.stringify(s)},{qPath:"/qHyperCubeDef/qMeasures",qOp:"replace",qValue:JSON.stringify(l)}],!1),a.patchApplied=!0,null},drawChart:function(a){var r=t.defer(),n=a.layout,s=(e.validateDimension(n.props.dimensions[0]),[{qTop:0,qLeft:0,qWidth:6,qHeight:1}]);return a.backendApi.getData(s).then(function(t){a.layout.qHyperCube.qMeasureInfo;if(0===t[0].qMatrix[0][1].qText.length||"-"==t[0].qMatrix[0][1].qText)e.displayConnectionError(a.extId);else{var s=JSON.parse(t[0].qMatrix[0][1].qText),i=s[0],d=s[1],l=s[2],o=s[3],p=s[4],q=s[5],f=s[6];$(".advanced-analytics-toolsets-"+a.extId).html('\n                <h2>F test to compare two variances</h2>\n                <table class="simple">\n                  <thead>\n                    <tr>\n                      <th>Item</th><th>Value</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr><td>F</td><td>'+i+"</td></tr>\n                    <tr><td>num df</td><td>"+d+"</td></tr>\n                    <tr><td>denom df</td><td>"+l+"</td></tr>\n                    <tr><td>p-value</td><td>"+o+"</td></tr>\n                    <tr><td>"+100*n.props.confidenceLevel+"% confidence interval</td><td>"+p+", "+q+"</td></tr>\n                    <tr><td>Sample estimates</td><td>ratio of variances = "+f+"</td></tr>\n                  </tbody>\n              </table>\n              <div>* alternative hypothesis: true ratio of variances is not equal to 1</div>\n          ")}return r.resolve()}),r.promise}}});
//# sourceMappingURL=../../maps/analysis/f_test.js.map
